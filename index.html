<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#5eead4">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Splitify">
    <link rel="apple-touch-icon" href="https://raw.githubusercontent.com/moukkamal2497/Splitify/main/icon.png">
    <link rel="icon" href="https://raw.githubusercontent.com/moukkamal2497/Splitify/main/icon.png">
    <title>Splitify - Bill Splitter</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        input[type="number"] {
            -moz-appearance: textfield;
        }
        input[type="number"]::-webkit-outer-spin-button,
        input[type="number"]::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        .glow {
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
        }
        .person-card {
            transition: all 0.3s ease;
        }
        .person-card:hover {
            transform: translateY(-2px);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 min-h-screen text-white pb-8">
    <div class="container mx-auto px-4 py-6 max-w-2xl">
        <!-- Header -->
        <div class="text-center mb-6">
            <h1 class="text-3xl font-bold mb-2 text-blue-400">üßæ Bill Splitter </h1>
            <p class="text-gray-400 text-sm">Each person pays according to their order</p>
        </div>

        <!-- Settings -->
        <div class="bg-gray-800 rounded-2xl p-5 shadow-2xl mb-5">
            <h2 class="text-lg font-bold mb-4 text-blue-400">‚öôÔ∏è Bill Settings</h2>
            
            <div class="grid grid-cols-2 gap-4 mb-4">
                <div>
                    <label class="block text-gray-300 text-sm font-semibold mb-2">üîß Service (%)</label>
                    <input 
                        type="number" 
                        id="servicePercent" 
                        value="12"
                        class="w-full bg-gray-700 text-white text-lg px-3 py-3 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500"
                        step="0.1"
                        min="0"
                        max="100"
                        onchange="calculateAll()"
                    >
                </div>
                <div>
                    <label class="block text-gray-300 text-sm font-semibold mb-2">üìä Tax (%)</label>
                    <input 
                        type="number" 
                        id="taxPercent" 
                        value="14"
                        class="w-full bg-gray-700 text-white text-lg px-3 py-3 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500"
                        step="0.1"
                        min="0"
                        max="100"
                        onchange="calculateAll()"
                    >
                </div>
            </div>
        </div>

        <!-- Add Person Section -->
        <div class="bg-gray-800 rounded-2xl p-5 shadow-2xl mb-5">
            <h2 class="text-lg font-bold mb-4 text-green-400">‚ûï Add Person</h2>
            
            <div class="mb-3">
                <label class="block text-gray-300 text-sm font-semibold mb-2">üë§ Person's Name</label>
                <input 
                    type="text" 
                    id="personName" 
                    placeholder="Ex: Moaaz"
                    class="w-full bg-gray-700 text-white text-lg px-4 py-3 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"
                >
            </div>

            <div class="mb-4">
                <label class="block text-gray-300 text-sm font-semibold mb-2">üí∞ Order Value (EGP)</label>
                <input 
                    type="number" 
                    id="personAmount" 
                    placeholder="Ex: 150"
                    class="w-full bg-gray-700 text-white text-lg px-4 py-3 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"
                    step="0.01"
                    min="0"
                >
            </div>

            <button 
                onclick="addPerson()" 
                class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-xl transition transform active:scale-95">
                Add Person
            </button>
        </div>

        <!-- People List -->
        <div id="peopleList" class="space-y-3 mb-5"></div>

        <!-- Summary -->
        <div id="summary" class="hidden">
            <!-- Total Bill -->
            <div class="bg-gray-800 rounded-2xl p-5 shadow-2xl mb-4">
                <h2 class="text-lg font-bold mb-3 text-blue-400 border-b border-gray-700 pb-2">üìã Bill Summary</h2>
                
                <div class="space-y-2 text-gray-300 text-sm">
                    <div class="flex justify-between items-center">
                        <span>Total Orders:</span>
                        <span class="font-semibold text-base" id="totalSubtotal">0.00 EGP</span>
                    </div>
                    <div class="flex justify-between items-center text-green-400">
                        <span>Service (<span id="displayServicePercent">12</span>%):</span>
                        <span class="font-semibold text-base" id="totalService">0.00 EGP</span>
                    </div>
                    <div class="flex justify-between items-center text-purple-400">
                        <span>Tax (<span id="displayTaxPercent">14</span>%):</span>
                        <span class="font-semibold text-base" id="totalTax">0.00 EGP</span>
                    </div>
                    <div class="flex justify-between items-center text-xl font-bold text-blue-300 border-t border-gray-700 pt-2 mt-2">
                        <span>Grand Total:</span>
                        <span id="grandTotal">0.00 EGP</span>
                    </div>
                </div>
            </div>

            <!-- Reset Button -->
            <button 
                onclick="resetAll()" 
                class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-xl transition transform active:scale-95">
                üîÑ Reset All
            </button>
        </div>
    </div>

    <script>
        let people = [];

        function addPerson() {
            const name = document.getElementById('personName').value.trim();
            const amount = parseFloat(document.getElementById('personAmount').value);

            if (!name) {
                alert('Please enter person\'s name');
                return;
            }

            if (!amount || amount <= 0) {
                alert('Please enter order value');
                return;
            }

            people.push({ name, amount });
            
            document.getElementById('personName').value = '';
            document.getElementById('personAmount').value = '';
            
            renderPeople();
            calculateAll();
        }

        function removePerson(index) {
            people.splice(index, 1);
            renderPeople();
            calculateAll();
        }

        function renderPeople() {
            const container = document.getElementById('peopleList');
            
            if (people.length === 0) {
                container.innerHTML = '';
                document.getElementById('summary').classList.add('hidden');
                return;
            }

            container.innerHTML = people.map((person, index) => `
                <div class="bg-gray-800 rounded-xl p-4 shadow-lg person-card">
                    <div class="flex justify-between items-start mb-2">
                        <div class="flex-1">
                            <div class="flex items-center gap-2 mb-1">
                                <span class="text-xl">üë§</span>
                                <span class="font-bold text-lg text-blue-300">${person.name}</span>
                            </div>
                            <div class="text-gray-400 text-sm space-y-1 ml-8">
                                <div>Order: <span class="text-white font-semibold">${person.amount.toFixed(2)} EGP</span></div>
                                <div class="text-green-400">Service: <span class="text-white font-semibold" id="service-${index}">0.00 EGP</span></div>
                                <div class="text-purple-400">Tax: <span class="text-white font-semibold" id="tax-${index}">0.00 EGP</span></div>
                            </div>
                        </div>
                        <button 
                            onclick="removePerson(${index})"
                            class="bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded-lg text-sm transition">
                            Delete
                        </button>
                    </div>
                    <div class="border-t border-gray-700 pt-2 mt-2">
                        <div class="flex justify-between items-center">
                            <span class="text-yellow-400 font-semibold">They Pay:</span>
                            <span class="text-2xl font-bold text-yellow-300" id="total-${index}">0.00 EGP</span>
                        </div>
                    </div>
                </div>
            `).join('');

            document.getElementById('summary').classList.remove('hidden');
        }

        function calculateAll() {
            if (people.length === 0) return;

            const servicePercent = parseFloat(document.getElementById('servicePercent').value) || 0;
            const taxPercent = parseFloat(document.getElementById('taxPercent').value) || 0;

            let totalSubtotal = 0;
            let totalServiceAmount = 0;
            let totalTaxAmount = 0;
            let grandTotal = 0;

            people.forEach((person, index) => {
                const subtotal = person.amount;
                const serviceAmount = subtotal * (servicePercent / 100);
                const taxAmount = (subtotal + serviceAmount) * (taxPercent / 100);
                const personTotal = subtotal + serviceAmount + taxAmount;

                document.getElementById(`service-${index}`).textContent = serviceAmount.toFixed(2) + ' EGP';
                document.getElementById(`tax-${index}`).textContent = taxAmount.toFixed(2) + ' EGP';
                document.getElementById(`total-${index}`).textContent = personTotal.toFixed(2) + ' EGP';

                totalSubtotal += subtotal;
                totalServiceAmount += serviceAmount;
                totalTaxAmount += taxAmount;
                grandTotal += personTotal;
            });

            document.getElementById('totalSubtotal').textContent = totalSubtotal.toFixed(2) + ' EGP';
            document.getElementById('displayServicePercent').textContent = servicePercent.toFixed(1);
            document.getElementById('totalService').textContent = totalServiceAmount.toFixed(2) + ' EGP';
            document.getElementById('displayTaxPercent').textContent = taxPercent.toFixed(1);
            document.getElementById('totalTax').textContent = totalTaxAmount.toFixed(2) + ' EGP';
            document.getElementById('grandTotal').textContent = grandTotal.toFixed(2) + ' EGP';
        }

        function resetAll() {
            if (confirm('Do you want to delete all data?')) {
                people = [];
                document.getElementById('servicePercent').value = '12';
                document.getElementById('taxPercent').value = '14';
                renderPeople();
            }
        }

        // Allow Enter key to add person
        document.getElementById('personAmount').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                addPerson();
            }
        });
    </script>
</body>
</html>
